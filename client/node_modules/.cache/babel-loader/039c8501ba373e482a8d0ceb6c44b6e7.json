{"ast":null,"code":"var _jsxFileName = \"/Users/elhadinata/Desktop/20t1/COMP3900/submit/capstone-project-artemis/client/src/components/home/Login.jsx\";\nimport 'src/styles/styles.css';\nimport { Button, Container, Form, Row } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\nimport { Requests } from 'src/utilities/Requests';\nimport { _ } from 'src/utilities/helper';\nimport { faChevronLeft } from '@fortawesome/free-solid-svg-icons';\nimport { navigate } from \"@reach/router\";\nexport class Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      if (event.target.name === \"email\") {\n        this.setState({\n          email: event.target.value\n        });\n      } else if (event.target.name === \"password\") {\n        this.setState({\n          password: event.target.value\n        });\n      }\n    };\n\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      const form = event.currentTarget;\n\n      if (form.checkValidity() === false) {\n        event.stopPropagation();\n      }\n\n      this.setState({\n        validated: true\n      }); // Login with user entered details\n\n      const loginRequest = await Requests.login(this.state.email, this.state.password);\n\n      if (_.isNil(loginRequest)) {\n        this.showNotification();\n      } else {\n        await Requests.makeSession(localStorage.getItem('tableId'), loginRequest.token);\n        navigate('/dashboard');\n      }\n    };\n\n    this.showNotification = () => {\n      console.log(this.state);\n      this.setState({\n        showNotif: true,\n        email: \"\",\n        password: \"\"\n      });\n      setTimeout(() => {\n        this.setState({\n          showNotif: false\n        });\n      }, 2000);\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      showNotif: false,\n      validated: false\n    };\n  }\n\n  componentWillUnmount() {\n    this.setState({\n      email: '',\n      password: ''\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container-home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faChevronLeft,\n      onClick: () => navigate(\"/home\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    })), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Login\")), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(Form, {\n      noValidate: true,\n      validated: this.state.validated,\n      size: \"lg\",\n      className: \"layout--padding\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      required: true,\n      value: this.state.email,\n      onChange: this.handleChange,\n      name: \"email\",\n      type: \"email\",\n      placeholder: \"Enter email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      required: true,\n      value: this.state.password,\n      onChange: this.handleChange,\n      name: \"password\",\n      type: \"password\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    })), React.createElement(Button, {\n      style: {\n        backgroundColor: \"black\",\n        color: \"white\"\n      },\n      variant: \"primary\",\n      onClick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"SIGN IN\"))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        width: \"90%\"\n      },\n      className: `alert alert-warning ${this.state.showNotif ? 'alert-shown' : 'alert-hidden'}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Invalid email or password\"))));\n  }\n\n}","map":{"version":3,"sources":["/Users/elhadinata/Desktop/20t1/COMP3900/submit/capstone-project-artemis/client/src/components/home/Login.jsx"],"names":["Button","Container","Form","Row","FontAwesomeIcon","React","Requests","_","faChevronLeft","navigate","Login","Component","constructor","props","handleChange","event","target","name","setState","email","value","password","handleSubmit","preventDefault","form","currentTarget","checkValidity","stopPropagation","validated","loginRequest","login","state","isNil","showNotification","makeSession","localStorage","getItem","token","console","log","showNotif","setTimeout","componentWillUnmount","render","backgroundColor","color","width"],"mappings":"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","sourcesContent":["import 'src/styles/styles.css';\n\nimport {\n    Button,\n    Container,\n    Form,\n    Row,\n} from 'react-bootstrap';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\nimport { Requests } from 'src/utilities/Requests';\nimport { _ } from 'src/utilities/helper';\nimport { faChevronLeft } from '@fortawesome/free-solid-svg-icons';\nimport { navigate } from \"@reach/router\";\n\nexport class Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: '',\n            password: '',\n            showNotif: false,\n            validated: false,\n        }\n    }\n\n\n    handleChange = (event) => {\n        if (event.target.name === \"email\") {\n            this.setState({ email: event.target.value });\n        } else if (event.target.name === \"password\") {\n            this.setState({ password: event.target.value });\n        }\n    }\n\n    handleSubmit = async (event) => {\n        event.preventDefault();\n        const form = event.currentTarget;\n        if (form.checkValidity() === false) {\n            event.stopPropagation();\n        }\n        this.setState({ validated: true });\n        // Login with user entered details\n        const loginRequest = await Requests.login(this.state.email, this.state.password);\n        if (_.isNil(loginRequest)) {\n            this.showNotification();\n        } else {\n            await Requests.makeSession(localStorage.getItem('tableId'), loginRequest.token);\n            navigate('/dashboard');\n        }\n        \n    }\n\n    componentWillUnmount() {\n        this.setState({ email: '', password: '' });\n    }\n\n    showNotification = () => {\n        console.log(this.state);\n        this.setState({\n            showNotif: true,\n            email: \"\",\n            password: \"\",\n          });\n          setTimeout(() => {\n            this.setState({\n                showNotif: false,\n            });\n          }, 2000);\n    }\n    render() {\n        return (\n            <div className=\"container-home\">\n                <Container>\n                    <Row>\n                        <FontAwesomeIcon\n                            icon={faChevronLeft}\n                            onClick={() => navigate(\"/home\")}\n                        />\n                    </Row>\n                    <Row>\n                        <h1 className=\"title\">\n                            Login\n                        </h1>\n                    </Row>\n                    <Row>\n                        <Form noValidate validated={this.state.validated} size=\"lg\" className=\"layout--padding\" onSubmit={this.handleSubmit}>\n                            <Form.Group controlId=\"formBasicEmail\">\n                                <Form.Control required value={this.state.email} onChange={this.handleChange} name=\"email\" type=\"email\" placeholder=\"Enter email\" />\n                            </Form.Group>\n\n                            <Form.Group controlId=\"formBasicPassword\">\n                                <Form.Control required value={this.state.password} onChange={this.handleChange} name=\"password\" type=\"password\" placeholder=\"Password\" />\n                            </Form.Group>\n\n                            <Button style={{ backgroundColor: \"black\", color: \"white\" }} variant=\"primary\" onClick={this.handleSubmit}>\n                                SIGN IN\n                            </Button>\n                            \n                        \n                        </Form>\n                    </Row>\n                    <br/>\n                    <Row>\n                        <div style={{ width: \"90%\" }}className={`alert alert-warning ${this.state.showNotif ? 'alert-shown' : 'alert-hidden'}`}>\n                            Invalid email or password\n                        </div>\n                    </Row>\n                </Container>\n            </div>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}