{"ast":null,"code":"var _jsxFileName = \"/Users/elhadinata/Desktop/20t1/COMP3900/submit/capstone-project-artemis/client/src/components/reservation/LoginDialog.jsx\";\nimport 'src/styles/styles.css';\nimport { Button, Form, Modal } from 'react-bootstrap';\nimport React from 'react';\nimport { Requests } from 'src/utilities/Requests';\nimport { _ } from 'src/utilities/helper';\nimport { navigate } from \"@reach/router\";\nexport class LoginDialog extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = async event => {\n      try {\n        const loginRequest = await Requests.login(this.state.email, this.state.password);\n\n        if (_.isNil(loginRequest)) {\n          navigate('/home');\n        } else {\n          await Requests.makeSession('5e8347e01c9d440000231cb3', loginRequest.token);\n          window.location.reload();\n        }\n\n        this.setState({\n          email: '',\n          password: ''\n        });\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    this.state = {\n      email: '',\n      password: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    if (event.target.name === \"email\") {\n      this.setState({\n        email: event.target.value\n      });\n    } else if (event.target.name === \"password\") {\n      this.setState({\n        password: event.target.value\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(Modal, Object.assign({}, this.props, {\n      centered: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Login\")), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Form, {\n      size: \"lg\",\n      className: \"layout--padding\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      value: this.state.email,\n      onChange: this.handleChange,\n      name: \"email\",\n      type: \"email\",\n      placeholder: \"Enter email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      value: this.state.password,\n      onChange: this.handleChange,\n      name: \"password\",\n      type: \"password\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })), React.createElement(Button, {\n      style: {\n        backgroundColor: \"black\",\n        color: \"white\"\n      },\n      variant: \"primary\",\n      onClick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"SIGN IN\"))), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.props.onHide,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Close\")));\n  }\n\n}","map":{"version":3,"sources":["/Users/elhadinata/Desktop/20t1/COMP3900/submit/capstone-project-artemis/client/src/components/reservation/LoginDialog.jsx"],"names":["Button","Form","Modal","React","Requests","_","navigate","LoginDialog","Component","constructor","props","handleSubmit","event","loginRequest","login","state","email","password","isNil","makeSession","token","window","location","reload","setState","err","console","error","handleChange","bind","target","name","value","render","backgroundColor","color","onHide"],"mappings":";AAAA,OAAO,uBAAP;AAEA,SACIA,MADJ,EAEIC,IAFJ,EAGIC,KAHJ,QAIO,iBAJP;AAMA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,wBAAzB;AACA,SAASC,CAAT,QAAkB,sBAAlB;AACA,SAASC,QAAT,QAAyB,eAAzB;AACA,OAAO,MAAMC,WAAN,SAA0BJ,KAAK,CAACK,SAAhC,CAA0C;AAC7CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAmBnBC,YAnBmB,GAmBJ,MAAOC,KAAP,IAAiB;AAC5B,UAAI;AACA,cAAMC,YAAY,GAAG,MAAMT,QAAQ,CAACU,KAAT,CAAe,KAAKC,KAAL,CAAWC,KAA1B,EAAiC,KAAKD,KAAL,CAAWE,QAA5C,CAA3B;;AAEA,YAAIZ,CAAC,CAACa,KAAF,CAAQL,YAAR,CAAJ,EAA2B;AACvBP,UAAAA,QAAQ,CAAC,OAAD,CAAR;AACH,SAFD,MAEO;AACH,gBAAMF,QAAQ,CAACe,WAAT,CAAqB,0BAArB,EAAiDN,YAAY,CAACO,KAA9D,CAAN;AACAC,UAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH;;AAED,aAAKC,QAAL,CAAc;AAAER,UAAAA,KAAK,EAAE,EAAT;AAAaC,UAAAA,QAAQ,EAAE;AAAvB,SAAd;AACH,OAXD,CAWE,OAAOQ,GAAP,EAAY;AACVC,QAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACH;AAIJ,KArCkB;;AAEf,SAAKV,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE,EADE;AAETC,MAAAA,QAAQ,EAAE;AAFD,KAAb;AAIA,SAAKW,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKlB,YAAL,GAAoB,KAAKA,YAAL,CAAkBkB,IAAlB,CAAuB,IAAvB,CAApB;AACH;;AAGDD,EAAAA,YAAY,CAAChB,KAAD,EAAQ;AAChB,QAAIA,KAAK,CAACkB,MAAN,CAAaC,IAAb,KAAsB,OAA1B,EAAmC;AAC/B,WAAKP,QAAL,CAAc;AAAER,QAAAA,KAAK,EAAEJ,KAAK,CAACkB,MAAN,CAAaE;AAAtB,OAAd;AACH,KAFD,MAEO,IAAIpB,KAAK,CAACkB,MAAN,CAAaC,IAAb,KAAsB,UAA1B,EAAsC;AACzC,WAAKP,QAAL,CAAc;AAAEP,QAAAA,QAAQ,EAAEL,KAAK,CAACkB,MAAN,CAAaE;AAAzB,OAAd;AACH;AACJ;;AAsBDC,EAAAA,MAAM,GAAG;AACL,WACI,oBAAC,KAAD,oBACQ,KAAKvB,KADb;AAEI,MAAA,QAAQ,MAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAII,oBAAC,KAAD,CAAO,MAAP;AAAc,MAAA,WAAW,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,CAJJ,EAQI,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAC,IAAX;AAAgB,MAAA,SAAS,EAAC,iBAA1B;AAA4C,MAAA,QAAQ,EAAE,KAAKC,YAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,gBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,KAAK,EAAE,KAAKI,KAAL,CAAWC,KAAhC;AAAuC,MAAA,QAAQ,EAAE,KAAKY,YAAtD;AAAoE,MAAA,IAAI,EAAC,OAAzE;AAAiF,MAAA,IAAI,EAAC,OAAtF;AAA8F,MAAA,WAAW,EAAC,aAA1G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,EAKI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,mBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,KAAK,EAAE,KAAKb,KAAL,CAAWE,QAAhC;AAA0C,MAAA,QAAQ,EAAE,KAAKW,YAAzD;AAAuE,MAAA,IAAI,EAAC,UAA5E;AAAuF,MAAA,IAAI,EAAC,UAA5F;AAAuG,MAAA,WAAW,EAAC,UAAnH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CALJ,EASI,oBAAC,MAAD;AAAS,MAAA,KAAK,EAAE;AAAEM,QAAAA,eAAe,EAAE,OAAnB;AAA4BC,QAAAA,KAAK,EAAE;AAAnC,OAAhB;AAA6D,MAAA,OAAO,EAAC,SAArE;AAA+E,MAAA,OAAO,EAAE,KAAKxB,YAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBATJ,CADJ,CARJ,EAuBI,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,KAAKD,KAAL,CAAW0B,MAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,CAvBJ,CADJ;AA6BH;;AAtE4C","sourcesContent":["import 'src/styles/styles.css';\n\nimport {\n    Button,\n    Form,\n    Modal,\n} from 'react-bootstrap';\n\nimport React from 'react';\nimport { Requests } from 'src/utilities/Requests';\nimport { _ } from 'src/utilities/helper';\nimport { navigate } from \"@reach/router\";\nexport class LoginDialog extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: '',\n            password: '',\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    \n    handleChange(event) {\n        if (event.target.name === \"email\") {\n            this.setState({ email: event.target.value});\n        } else if (event.target.name === \"password\") {\n            this.setState({ password: event.target.value});\n        }\n    }\n\n    handleSubmit = async (event) => {\n        try {\n            const loginRequest = await Requests.login(this.state.email, this.state.password);\n            \n            if (_.isNil(loginRequest)) {\n                navigate('/home');\n            } else {\n                await Requests.makeSession('5e8347e01c9d440000231cb3', loginRequest.token);\n                window.location.reload();\n            }\n\n            this.setState({ email: '', password: ''});\n        } catch (err) {\n            console.error(err);\n        }\n            \n            \n        \n    }\n\n    render() {\n        return (  \n            <Modal\n                {...this.props}\n                centered\n                >\n                <Modal.Header closeButton>\n                    <Modal.Title>Login</Modal.Title>\n                </Modal.Header>\n                \n                <Modal.Body>\n                    <Form size=\"lg\" className=\"layout--padding\" onSubmit={this.handleSubmit}>\n                        <Form.Group controlId=\"formBasicEmail\">\n                            <Form.Control value={this.state.email} onChange={this.handleChange} name=\"email\" type=\"email\" placeholder=\"Enter email\" />\n                        </Form.Group>\n\n                        <Form.Group controlId=\"formBasicPassword\">\n                            <Form.Control value={this.state.password} onChange={this.handleChange} name=\"password\" type=\"password\" placeholder=\"Password\" />\n                        </Form.Group>\n\n                        <Button  style={{ backgroundColor: \"black\", color: \"white\"}} variant=\"primary\" onClick={this.handleSubmit}>\n                            SIGN IN\n                        </Button>\n                    </Form>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button onClick={this.props.onHide}>Close</Button>\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}