/*
 *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
*****************************************************************************/
'use strict';Object.defineProperty(exports,"__esModule",{value:!0});function _interopDefault(a){return a&&"object"===typeof a&&"default"in a?a["default"]:a}var React=require("react"),React__default=_interopDefault(React),__assign=function(){__assign=Object.assign||function(a){for(var d,b=1,c=arguments.length;b<c;b++){d=arguments[b];for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(a[e]=d[e])}return a};return __assign.apply(this,arguments)};
function __rest(a,d){var b={},c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&0>d.indexOf(c)&&(b[c]=a[c]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var e=0;for(c=Object.getOwnPropertySymbols(a);e<c.length;e++)0>d.indexOf(c[e])&&Object.prototype.propertyIsEnumerable.call(a,c[e])&&(b[c[e]]=a[c[e]])}return b}
var styles={position:"sticky"},isChildFn=function(a){return"function"===typeof a},useCombinedRefs=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];var b=React.useRef(null);React.useEffect(function(){a.forEach(function(a){a&&("function"===typeof a?a(b.current):a.current=b.current)})},[a]);return b},StickyNav=function(a,d){var b=a.children,c=a.disabled,e=a.render;a=__rest(a,["children","disabled","render"]);var f=React.useState("unfixed"),q=f[0],m=f[1],n=React.useRef(0),r=React.useRef(0),
g=React.useState(0);f=g[0];var v=g[1];g=React.useRef(null);var k=useCombinedRefs(d,g),l=React.useRef(null),t=React__default.useCallback(function(){if(k.current&&!c){var a=window.pageYOffset;if(!(0>a)){var b=k.current.classList,d=0<a-n.current?"down":"up",f=r.current+n.current-a,g=k.current.getBoundingClientRect(),h=g.height;g=g.top;var p="down"===d?Math.max(f,-h):Math.min(f,0);r.current=p;k.current.style.top=p.toString();e&&v(p);"down"===d&&!b.contains("hidden")&&f<-h&&(m("hidden"),b.remove("pinned",
"unfixed"),b.add("hidden"));"up"===d&&!b.contains("pinned")&&f>-h&&(m("pinned"),b.remove("hidden","unfixed"),b.add("pinned"));!b.contains("unfixed")&&(0<g||0===a)&&(m("unfixed"),b.remove("hidden","pinned"),b.add("unfixed"));n.current=a;l.current=null}}},[c,!!e]),h=function(){l.current&&window.cancelAnimationFrame(l.current);l.current=window.requestAnimationFrame(t)},u=React.useCallback(function(){"undefined"!==typeof window&&window.addEventListener("scroll",h)},[h]),w=React.useCallback(function(){"undefined"!==
typeof window&&window.removeEventListener("scroll",h)},[h]);React.useEffect(function(){c?w():u();return function(){return u()}},[c]);React.useEffect(function(){c||t()},[]);return e?e({position:q,ref:k,top:f}):React__default.createElement("nav",__assign({},a,{ref:k,style:styles}),isChildFn(b)?b(q):b)},index=React.memo(React.forwardRef(StickyNav));exports.default=index;exports.styles=styles
