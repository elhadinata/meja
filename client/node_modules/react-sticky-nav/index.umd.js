/*
 *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
*****************************************************************************/
'use strict';(function(c,a){"object"===typeof exports&&"undefined"!==typeof module?a(exports,require("react")):"function"===typeof define&&define.amd?define(["exports","react"],a):(c=c||self,a(c.ReactStickyNav={},c.React))})(this,function(c,a){function y(a,d){var b={},e;for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&0>d.indexOf(e)&&(b[e]=a[e]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var g=0;for(e=Object.getOwnPropertySymbols(a);g<e.length;g++)0>d.indexOf(e[g])&&(b[e[g]]=
a[e[g]])}return b}var r="default"in a?a["default"]:a,z=Object.assign||function(a){for(var d,b=1,e=arguments.length;b<e;b++){d=arguments[b];for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(a[g]=d[g])}return a},t={position:"sticky"},A=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];var b=a.useRef(null);a.useEffect(function(){f.forEach(function(a){a&&("function"===typeof a?a(b.current):a.current=b.current)})},[f]);return b},q=a.memo(a.forwardRef(function(f,d){var b=f.children,
e=f.disabled,g=f.render;f=y(f,["children","disabled","render"]);var c=a.useState("unfixed"),u=c[0],n=c[1],p=a.useRef(0),v=a.useRef(0),h=a.useState(0);c=h[0];var q=h[1];h=a.useRef(null);var l=A(d,h),m=a.useRef(null),w=r.useCallback(function(){if(l.current&&!e){var a=window.pageYOffset;if(!(0>a)){var b=l.current.classList,d=0<a-p.current?"down":"up",c=v.current+p.current-a,f=l.current.getBoundingClientRect(),h=f.height;f=f.top;var k="down"===d?Math.max(c,-h):Math.min(c,0);v.current=k;l.current.style.top=
k.toString();g&&q(k);"down"===d&&!b.contains("hidden")&&c<-h&&(n("hidden"),b.remove("pinned","unfixed"),b.add("hidden"));"up"===d&&!b.contains("pinned")&&c>-h&&(n("pinned"),b.remove("hidden","unfixed"),b.add("pinned"));!b.contains("unfixed")&&(0<f||0===a)&&(n("unfixed"),b.remove("hidden","pinned"),b.add("unfixed"));p.current=a;m.current=null}}},[e,!!g]),k=function(){m.current&&window.cancelAnimationFrame(m.current);m.current=window.requestAnimationFrame(w)},x=a.useCallback(function(){"undefined"!==
typeof window&&window.addEventListener("scroll",k)},[k]),B=a.useCallback(function(){"undefined"!==typeof window&&window.removeEventListener("scroll",k)},[k]);a.useEffect(function(){e?B():x();return function(){return x()}},[e]);a.useEffect(function(){e||w()},[]);return g?g({position:u,ref:l,top:c}):r.createElement("nav",z({},f,{ref:l,style:t}),"function"===typeof b?b(u):b)}));c.default=q;c.styles=t;Object.defineProperty(c,"__esModule",{value:!0})})
