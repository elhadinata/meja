import React,{memo,forwardRef,useState,useRef,useCallback,useEffect}from'react';/*
 *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
*****************************************************************************/
function m(){m=Object.assign||function(a){for(var d,c=1,b=arguments.length;c<b;c++){d=arguments[c];for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(a[e]=d[e])}return a};return m.apply(this,arguments)}
function r(a,d){var c={},b;for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&0>d.indexOf(b)&&(c[b]=a[b]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var e=0;for(b=Object.getOwnPropertySymbols(a);e<b.length;e++)0>d.indexOf(b[e])&&Object.prototype.propertyIsEnumerable.call(a,b[e])&&(c[b[e]]=a[b[e]])}return c}var x={position:"sticky"};
function y(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];var c=useRef(null);useEffect(function(){a.forEach(function(b){b&&("function"===typeof b?b(c.current):b.current=c.current)})},[a]);return c}
var B=memo(forwardRef(function(a,d){function c(){k.current&&window.cancelAnimationFrame(k.current);k.current=window.requestAnimationFrame(t)}var b=a.children,e=a.disabled,l=a.render;a=r(a,["children","disabled","render"]);var f=useState("unfixed"),u=f[0],n=f[1],p=useRef(0),v=useRef(0),g=useState(0);f=g[0];var z=g[1];g=useRef(null);var h=y(d,g),k=useRef(null),t=React.useCallback(function(){if(h.current&&!e){var b=window.pageYOffset;if(!(0>b)){var a=h.current.classList,c=0<b-p.current?"down":"up",d=
v.current+p.current-b,f=h.current.getBoundingClientRect(),g=f.height;f=f.top;var q="down"===c?Math.max(d,-g):Math.min(d,0);v.current=q;h.current.style.top=q.toString();l&&z(q);"down"===c&&!a.contains("hidden")&&d<-g&&(n("hidden"),a.remove("pinned","unfixed"),a.add("hidden"));"up"===c&&!a.contains("pinned")&&d>-g&&(n("pinned"),a.remove("hidden","unfixed"),a.add("pinned"));!a.contains("unfixed")&&(0<f||0===b)&&(n("unfixed"),a.remove("hidden","pinned"),a.add("unfixed"));p.current=b;k.current=null}}},
[e,!!l]),w=useCallback(function(){"undefined"!==typeof window&&window.addEventListener("scroll",c)},[c]),A=useCallback(function(){"undefined"!==typeof window&&window.removeEventListener("scroll",c)},[c]);useEffect(function(){e?A():w();return function(){return w()}},[e]);useEffect(function(){e||t()},[]);return l?l({position:u,ref:h,top:f}):React.createElement("nav",m({},a,{ref:h,style:x}),"function"===typeof b?b(u):b)}));export default B;export{x as styles}
